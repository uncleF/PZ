!function n(s,r,d){function l(t,e){if(!r[t]){if(!s[t]){var a="function"==typeof require&&require;if(!e&&a)return a(t,!0);if(c)return c(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var i=r[t]={exports:{}};s[t][0].call(i.exports,function(e){return l(s[t][1][e]||e)},i,i.exports,n,s,r,d)}return r[t].exports}for(var c="function"==typeof require&&require,e=0;e<d.length;e++)l(d[e]);return l}({1:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.dropBullets=function(){x=[]},a.projectiles=function(){return x},a.walkLeft=function(){_=!0,y.scale.setTo(1,1),v.scale.setTo(1,1),m.scale.setTo(1,1),z()},a.walkRight=function(){_=!1,y.scale.setTo(-1,1),v.scale.setTo(-1,1),m.scale.setTo(-1,1),z()},a.stop=function(){L&&(L=!1,P.stop("charWalk"),y.animations.frame=0,w=0)},a.jump=function(){C||(y.loadTexture("charJump"),T.play(r,!1))},a.shoot=function(){K||(K=!0,w+=_?i:-i,j.play(d,!1),x.push({x:f.x,start:f.x,isLeft:_}))},a.collider=function(){return y},a.update=function(){f.x+=w,v.y=y.y,C&&0===y.body.velocity.y&&(C=!1,L&&P.play(s,!0));0<x.length&&x.forEach(O)},a.init=function(e){h=e,b=155,g=h.world.height-20,(f=h.add.group()).x=b,(v=h.add.sprite(0,g,"weapon")).anchor.setTo(.5,1),j=v.animations.add("weapon",[0,1,2]),M=v.animations.add("weapon",[3,4,5]),j.onComplete.add(W),f.add(v),(y=h.add.sprite(0,g,"charWalk")).anchor.setTo(.5,1),P=y.animations.add("charWalk"),(T=y.animations.add("charJump",[0,1,2,3,4,5])).onComplete.add(S),f.add(y),(m=h.add.sprite(g,g,"dust")).anchor.setTo(.5,1),m.alpha=0,(k=m.animations.add("dust",[0,1,2])).onComplete.add(R),h.physics.arcade.enable(f),y.body.gravity.y=c,y.body.collideWorldBounds=!0};var o=.65,i=.25,n=15,s=13,r=20,d=30,l=10,c=1e3,u=-200,p=35,h=void 0,f=void 0,y=void 0,v=void 0,m=void 0,b=void 0,g=void 0,w=0,x=[],P=void 0,T=void 0,j=void 0,M=void 0,k=void 0,_=!0,L=!1,C=!1,K=!1;function O(e,t){var a=e;Math.abs(a.x-a.start)>p?x.splice(t,1):a.x-=a.isLeft?n:-n}function z(){C||L||(L=!0,P.play(s,!0),w=_?-o:o)}function R(){m.alpha=0}function S(){C=!0,y.loadTexture("charWalk"),y.body.velocity.y=u,m.x=f.x,m.alpha=1,k.play(l,!1)}function W(){K=!1,w-=_?i:-i,M.play(d,!1)}},{}],2:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.collider=function(){return{isLeft:c,body:r}},a.die=function(){l=0,r.alpha=0,d.alpha=1,p.play(n,!1)},a.update=function(){if(c&&r.x<-30||!c&&r.x>s.world.width+30)h();else{var e=c?l:-l;r.x-=e,d.x-=e}},a.init=function(e){s=e,(r=s.add.sprite(s.world.width+10,s.world.height-20,"zombie1")).anchor.setTo(.5,1),(u=r.animations.add("zombie")).play(i,!0),(d=s.add.sprite(s.world.width+10,s.world.height-20,"explosion")).anchor.setTo(.5,1),(p=d.animations.add("explosion")).onComplete.add(h),d.alpha=0};var o=.25,i=8,n=20,s=void 0,r=void 0,d=void 0,l=o,c=!0,u=void 0,p=void 0;function h(){setTimeout(function(){var e=1+Math.round(Math.random());c=Math.round(Math.random()),r.loadTexture("zombie"+e),c?(r.x=s.world.width+10,d.x=s.world.width+10,r.scale.setTo(1,1)):(r.x=-10,d.x=-10,r.scale.setTo(-1,1)),r.alpha=1,d.alpha=0,l=o,u.play(i,!0)},500)}},{}],3:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(t){function e(){}return e.prototype={initRendering:function(){var e=t;e.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,e.stage.backgroundColor=o,e.renderer.renderSession.roundPixels=!0,Phaser.Canvas.setImageRenderingCrisp(e.canvas)},initMechanics:function(){t.physics.startSystem(Phaser.Physics.ARCADE)},initInput:function(){t.input.gamepad.start()},init:function(){this.initRendering(),this.initMechanics(),this.initInput()},create:function(){t.state.start("gameplay")},preload:function(){t.load.spritesheet("charJump","/assets/sprites/charJump.png",32,32,7),t.load.spritesheet("charWalk","/assets/sprites/charWalk.png",32,32,4),t.load.spritesheet("dust","/assets/sprites/dust.png",32,32,3),t.load.spritesheet("explosion","/assets/sprites/explosion.png",38,32,8),t.load.spritesheet("weapon","/assets/sprites/weapon.png",36,32,6),t.load.spritesheet("zombie1","/assets/sprites/zombie1.png",32,32,6),t.load.spritesheet("zombie2","/assets/sprites/zombie2.png",32,32,6),t.load.image("cloud1","/assets/sprites/cloud1.png"),t.load.image("cloud2","/assets/sprites/cloud2.png"),t.load.image("crate","/assets/sprites/crate.png"),t.load.image("floor","/assets/sprites/floor.png")}},e};var o="#6ca7ac"},{}],4:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(n){var e=void 0,t=void 0,a=void 0,o=void 0,i=void 0;function s(){}return s.prototype={hit:function(e,t){return t.x-10<=e.x&&t.x+10>=e.x},hits:function(){var t=this,e=r.projectiles();if(0<e.length){var a=d.collider(),o=a.body,i=a.isLeft;e.some(function(e){return t.hit(e,o,i)})&&(d.die(),r.dropBullets())}},update:function(){this.hits(),n.physics.arcade.collide(r.collider(),e),r.update(),d.update()},drawLine:function(e,t,a,o){var i=n.add.graphics(e,t);return i.beginFill(0,0),i.drawRect(0,0,a,o),i.endFill(),i},initPhysics:function(){e=this.drawLine(0,80,320,4),n.physics.arcade.enable(e),e.body.allowGravity=!0,e.body.immovable=!0},initFloor:function(){n.add.tileSprite(0,80,320,4,"floor")},initKeys:function(){t=n.input.keyboard.addKey(Phaser.Keyboard.UP),a=n.input.keyboard.addKey(Phaser.Keyboard.LEFT),o=n.input.keyboard.addKey(Phaser.Keyboard.RIGHT),i=n.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),t.onDown.add(r.jump),a.onDown.add(r.walkLeft),o.onDown.add(r.walkRight),i.onDown.add(r.shoot),a.onUp.add(r.stop),o.onUp.add(r.stop)},init:function(){this.initPhysics(),this.initFloor(),this.initKeys(),r.init(n),d.init(n)}},s};var r=o(e("characters/hero.js")),d=o(e("characters/zombie.js"));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}},{"characters/hero.js":1,"characters/zombie.js":2}],5:[function(e,t,a){"use strict";var o,i,n=r(e("states/boot.js")),s=r(e("states/gameplay.js"));function r(e){return e&&e.__esModule?e:{default:e}}i=new Phaser.Game(300,100,Phaser.CANVAS,document.querySelector("#game")),(o=i).state.add("boot",(0,n.default)(o)),o.state.add("gameplay",(0,s.default)(o)),i.state.start("boot")},{"states/boot.js":3,"states/gameplay.js":4}]},{},[5]);